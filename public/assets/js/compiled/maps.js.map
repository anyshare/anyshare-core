{"version":3,"sources":["maps.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"maps.js","sourcesContent":["class MapRenderer {\n    constructor (selector, wrld3dApiKey) {\n        this.selector = selector\n        this.wrld3dApiKey = wrld3dApiKey\n\n        this.markers = []\n        this.instance = null\n        this.lat = null\n        this.lng = null\n    }\n\n    createInstance () {\n        if (this.wrld3dApiKey) {\n            this.instance = L.Wrld.map(this.selector, this.wrld3dApiKey)\n            return this\n        }\n\n        this.instance = L.map(this.selector)\n        return this\n    }\n\n    setLatLng (lat, lng) {\n        this.lat = parseFloat(lat)\n        this.lng = parseFloat(lng)\n\n        return this\n    }\n\n    loadMarkers (markers, merge) {\n        if (!merge) {\n            this.markers = []\n        }\n\n        markers.forEach(function (m) {\n            this.addMapMarker(m)\n        })\n\n        return this\n    }\n\n    addMapMarker (item) {\n        if (!item.latitude || !item.longitude) {\n            return\n        }\n\n        var marker = L.marker([item.latitude, item.longitude])\n\n        marker.bindTooltip(item.display_name + ' ' + item.natural_post_type + ' <b>' + item.title + '</b>', { permanent: false })\n\n        var popup = '<button class=\"map-link\" onclick=\"window.location.href=\\'' + item.url + '\\'\">' + item.display_name + ' ' + item.natural_post_type + ' <b>' + item.title + '</b></button><p><em>' + item.exchangeTypes + '</em></p>'\n\n        marker.bindPopup(popup)\n        this.markers.push(marker)\n        marker.addTo(this.instance)\n\n        return marker\n    }\n\n    render (mapInstance) {\n        this.instance = mapInstance\n    }\n}\n\n$(function () {\n\n    var renderer = new MapRenderer('entry_browse_map')\n\n\n})"]}